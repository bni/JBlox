/*
 * JBlox, Copyright (C) 2001 Bj√∂rn Nilsson
 */
package org.hn.jblox;

import java.applet.Applet;
import netscape.javascript.JSObject;

// Shakes the playfield in a diffrent thread
public class Shaker extends Thread
{
    private Applet m_parent;

    private int amount;
    private JSObject m_jsWindow;
    private boolean shake_now;

    public Shaker(Applet a)
    {
        // Get the parent applet reference
        this.m_parent = a;

        shake_now = false;

        //this.m_jsWindow = JSObject.getWindow(this.m_parent);
    }

    public void shake(int amnt)
    {
        amount = amnt;
        shake_now = true;
    }

    public void run()
    {
        while(true)
        {
            if (shake_now)
            {
                if (amount == 0)
                {
                    this.m_jsWindow.call("shake_tiny", null);
                }
                else if (amount == 1)
                {
                    this.m_jsWindow.call("shake_small", null);
                }
                else if (amount == 2)
                {
                    this.m_jsWindow.call("shake_medium", null);
                }
                else
                {
                    this.m_jsWindow.call("shake_big", null);
                }
                shake_now = false;
            }

            try
            {
                Thread.sleep(20);
            }
            catch (InterruptedException e)
            {
            }
        }
    }
}

